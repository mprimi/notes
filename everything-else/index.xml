<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>📓 Marco's Notes</title><link>https://notes.mpri.me/everything-else/</link><description>Recent changes in 📓 Marco's Notes</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</copyright><atom:link href="https://notes.mpri.me/everything-else/index.xml" rel="self" type="application/rss+xml"/><item><title>A deck to play with HackMD Markdown slides</title><link>https://notes.mpri.me/everything-else/hackmd-slides-sandbox/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://notes.mpri.me/everything-else/hackmd-slides-sandbox/</guid><description>&lt;h1 id="sandbox">Sandbox&lt;/h1>
&lt;hr>
&lt;h1 id="hackmd-reference">HackMD reference&lt;/h1>
&lt;p>&lt;a href="https://hackmd.io/features">Features overview&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://hackmd.io/s/how-to-create-slide-deck">Slides guide&lt;/a>&lt;/p>
&lt;p>&lt;a href="https://hackmd.io/slide-example?both">Example slides&lt;/a> (&lt;a href="https://hackmd.io/p/slide-example">preview&lt;/a>)&lt;/p>
&lt;hr>
&lt;h1 id="navigation">Navigation&lt;/h1>
&lt;p>&lt;code>esc&lt;/code>: Deck overview
&lt;code>space&lt;/code>: next slide (including subsections)
&lt;code>← →&lt;/code>: previous, next section
&lt;code>↑ ↓&lt;/code>: previous. next within section&lt;/p>
&lt;hr>
&lt;h1 id="slides-and-slides-groups">Slides and slides groups&lt;/h1>
&lt;p>Separate slides with:&lt;/p>
&lt;pre tabindex="0">&lt;code>---
&lt;/code>&lt;/pre>&lt;p>Separate slides in the same section with:&lt;/p>
&lt;pre tabindex="0">&lt;code>----
&lt;/code>&lt;/pre>&lt;hr>
&lt;h1 id="fragments">Fragments&lt;/h1>
&lt;p>Hit spacebar (gently)&lt;/p>
&lt;p>&lt;!-- raw HTML omitted -->&amp;hellip; a&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->fragmented&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->slide.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>Highlight &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->red&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->blue&lt;!-- raw HTML omitted --> &lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->green&lt;!-- raw HTML omitted -->&lt;/p>
&lt;hr>
&lt;h1 id="transitions">Transitions&lt;/h1>
&lt;!-- raw HTML omitted -->
&lt;p>Fade-in, fade-out; default, slow, fast.&lt;/p>
&lt;hr>
&lt;h1 id="aspect-customization">Aspect customization&lt;/h1>
&lt;ul>
&lt;li>Themes (via YAML)&lt;/li>
&lt;li>Slide background (color or image, tiled images)&lt;/li>
&lt;li>Video and GIF backgrounds&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h1 id="meta-customization">Meta customization&lt;/h1>
&lt;p>YAML header for document metadata, crawler/robots, themes, etc.&lt;/p>
&lt;hr>
&lt;h1 id="images--media">Images &amp;amp; Media&lt;/h1>
&lt;hr>
&lt;h1 id="relative-links">Relative links&lt;/h1></description></item><item><title>Choosing Cloud Storage</title><link>https://notes.mpri.me/everything-else/cloud-storage/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://notes.mpri.me/everything-else/cloud-storage/</guid><description>&lt;p>These days there are literally hundreds of options when it comes to choosing cloud storage.&lt;/p>
&lt;p>Wether it&amp;rsquo;s for personal use, family sharing, for a small project or for a company.&lt;/p>
&lt;p>Too many times, I&amp;rsquo;ve seen people draw a short list from household names (Dropbox, Amazon, BitTorrent, &amp;hellip;) and then narrow it down, primarily based on cost.&lt;/p>
&lt;p>This list of questions is designed to make you stop and think a little more about what you are looking for. Before making a choice that you may soon regret.&lt;/p>
&lt;p>I suggest going down the list &lt;strong>twice&lt;/strong>.
The first time answer with the &lt;em>current&lt;/em> needs.
The second time answer with the needs you expect &lt;em>a year from now&lt;/em> (or your best estimate..).&lt;/p>
&lt;h2 id="data-size">Data size&lt;/h2>
&lt;p>What is the estimated average, minimum, maximum amount of data stored?&lt;/p>
&lt;p>How many artifacts will be created on an average day?&lt;/p>
&lt;p>How much new data will be created on an average day?&lt;/p>
&lt;p>How much old data and how many artifacts are deleted?&lt;/p>
&lt;h2 id="data-and-access-location">Data and access location&lt;/h2>
&lt;p>Where (geographically) is the data uploaded from?&lt;/p>
&lt;p>Where is downloaded from?&lt;/p>
&lt;h2 id="access-pattern">Access pattern&lt;/h2>
&lt;p>Are data artifacts downloaded by a single person, or a small group, or a large group of people?&lt;/p>
&lt;p>How spread over time are data artifacts spread?&lt;/p>
&lt;p>Data lifecycle and lifespan&lt;/p>
&lt;p>Are data artifacts ever modified in-place? Or are they immutable (i.e. each modification creates a new artifact)?&lt;/p>
&lt;p>How many artifacts are created/modified/deleted every day?&lt;/p>
&lt;h2 id="permissions-model">Permissions model&lt;/h2>
&lt;p>Should everyone be able to upload, delete anything?&lt;/p>
&lt;p>Or should each user only be able to touch a specific set of files?&lt;/p>
&lt;p>Or should permissions change per group of users?&lt;/p>
&lt;p>How many users?&lt;/p>
&lt;p>How many groups?&lt;/p>
&lt;p>Is administrators/workers sufficient, or do you need per-project permissions?&lt;/p>
&lt;p>Or even per-artifact permissions?&lt;/p>
&lt;h2 id="discoverability">Discoverability&lt;/h2>
&lt;p>Which users can see all artifacts? (“See” as in: know they exist)&lt;/p>
&lt;p>Which users can see all artifacts for a projects?&lt;/p>
&lt;p>Which users can see the full list of projects?&lt;/p>
&lt;h2 id="integration">Integration&lt;/h2>
&lt;p>What kind of actionable notifications?
Examples: Upload begun, upload completed, download begun download completed, deleted, moved, overwritten, …&lt;/p>
&lt;h2 id="data-classes">Data classes&lt;/h2>
&lt;p>Are all artifacts more or less the same? (i.e. intermediate production artifacts)&lt;/p>
&lt;p>Or can you group them into well defined categories?&lt;/p>
&lt;h2 id="metadata">Metadata&lt;/h2>
&lt;p>Which metadata is stored in the file itself, and which is stored in an external database?&lt;/p>
&lt;p>(e.g., author, project name, creation date, notes from author, next step in pipeline, …)&lt;/p>
&lt;h2 id="compression">Compression&lt;/h2>
&lt;p>Do artifact shrink in size if compressed?&lt;/p>
&lt;h2 id="upload--download-speed">Upload &amp;amp; download speed&lt;/h2>
&lt;p>How important are upload and download speed?&lt;/p>
&lt;p>Can files be downloaded overnight?&lt;/p>
&lt;h2 id="auditing">Auditing&lt;/h2>
&lt;p>Do you need an auditable log of all operations?&lt;/p>
&lt;p>(i.e. who uploaded/downloaded/deleted/modified what piece of data and when)&lt;/p>
&lt;h2 id="consequences">Consequences&lt;/h2>
&lt;p>What are the consequences of losing ALL the data?
(i.e. the cloud storage provider dumps you)&lt;/p>
&lt;p>What are the consequences of losing SOME data?
(i.e. human mistake)&lt;/p>
&lt;p>What are the consequences of data being leaked on the internet?&lt;/p>
&lt;h2 id="legal">Legal&lt;/h2>
&lt;p>Are there restrictions to where data can be stored?&lt;/p></description></item><item><title>Docker reference</title><link>https://notes.mpri.me/everything-else/docker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://notes.mpri.me/everything-else/docker/</guid><description>&lt;pre tabindex="0">&lt;code>attach Attach local standard input, output, and error streams to a running container
build Build an image from a Dockerfile
commit Create a new image from a container's changes
create Create a new container
cp Copy files/folders between a container and the local filesystem
diff Inspect changes to files or directories on a container's filesystem
export Export a container's filesystem as a tar archive
import Import the contents from a tarball to create a filesystem image
history Show the history of an image
save Save one or more images to a tar archive (streamed to STDOUT by default)
update Update configuration of one or more containers
tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE
load Load an image from a tar archive or STDIN
images List images
rmi Remove one or more images
exec Run a command in a running container
rm Remove one or more containers
ps List containers
run Run a command in a new container
rename Rename a container
login Log in to a Docker registry
logout Log out from a Docker registry
pull Pull an image or a repository from a registry
push Push an image or a repository to a registry
search Search the Docker Hub for images
events Get real time events from the server
top Display the running processes of a container
port List port mappings or a specific mapping for the container
stats Display a live stream of container(s) resource usage statistics
logs Fetch the logs of a container
kill Kill one or more running containers
pause Pause all processes within one or more containers
restart Restart one or more containers
unpause Unpause all processes within one or more containers
wait Block until one or more containers stop, then print their exit codes
stop Stop one or more running containers
start Start one or more stopped containers
&lt;/code>&lt;/pre>&lt;h2 id="run-create-a-new-container">&lt;code>run&lt;/code>: create a new container&lt;/h2>
&lt;pre tabindex="0">&lt;code>docker run -d -p X:Y &amp;lt;image&amp;gt;
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;code>-d&lt;/code> for detach&lt;/li>
&lt;li>&lt;code>-p&lt;/code> to map port X of the host to port Y of the container&lt;/li>
&lt;/ul>
&lt;h3 id="interactive-shell">Interactive shell&lt;/h3>
&lt;p>New container:&lt;/p>
&lt;pre tabindex="0">&lt;code>docker run -it --entrypoint /bin/sh &amp;lt;image&amp;gt;
&lt;/code>&lt;/pre>&lt;p>Existing container:&lt;/p>
&lt;pre tabindex="0">&lt;code>docker exec &amp;lt;container&amp;gt; /bin/sh
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;code>-i&lt;/code> keep stdin open&lt;/li>
&lt;li>&lt;code>-t&lt;/code> allocate pseudo-terminal&lt;/li>
&lt;/ul>
&lt;h2 id="build">&lt;code>build&lt;/code>&lt;/h2>
&lt;pre tabindex="0">&lt;code>docker build -t &amp;lt;tag&amp;gt; &amp;lt;dir or url&amp;gt;
&lt;/code>&lt;/pre>&lt;h3 id="listing-containers">Listing containers&lt;/h3>
&lt;p>Running: &lt;code>docker ps&lt;/code>&lt;/p>
&lt;p>All: &lt;code>docker ps -a&lt;/code>&lt;/p>
&lt;h3 id="stopped-containers">Stopped containers&lt;/h3>
&lt;p>If a container command completes, or a container is killed.
The container reaches &amp;lsquo;stopped&amp;rsquo; state.&lt;/p>
&lt;p>Stopped containers are preserved.
They can be restarted. Or the state can be committed to a new image.&lt;/p>
&lt;p>&lt;code>docker ps -a&lt;/code> shows all containers, including stopped ones&lt;/p>
&lt;h3 id="removing-containers">Removing containers&lt;/h3>
&lt;pre tabindex="0">&lt;code>docker rm &amp;lt;id or name&amp;gt;
&lt;/code>&lt;/pre>&lt;p>Remove all stopped containers&lt;/p>
&lt;pre tabindex="0">&lt;code>docker ps -aq -f status=exited | xargs docker rm
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;code>-a&lt;/code>: show all&lt;/li>
&lt;li>&lt;code>-q&lt;/code>: only list container id&lt;/li>
&lt;li>&lt;code>-f&lt;/code>: filter&lt;/li>
&lt;/ul>
&lt;h2 id="dockerfile">&lt;code>Dockerfile&lt;/code>&lt;/h2>
&lt;p>Example directory layout:&lt;/p>
&lt;pre tabindex="0">&lt;code>Dockerfile
.dockerignore
data/
cats.csv
dogs.csv
scripts/
install.sh
run.sh
&lt;/code>&lt;/pre>&lt;p>Example &lt;code>Dockerfile&lt;/code>:&lt;/p>
&lt;pre tabindex="0">&lt;code>FROM alpine:latest
WORKDIR /app
COPY . .
RUN chmod +x scripts/*.sh
RUN scripts/install.sh
ENTRYPOINT [&amp;quot;/bin/sh&amp;quot;, &amp;quot;scripts/run.sh&amp;quot;]
CMD [&amp;quot;default&amp;quot;]
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;code>FROM&lt;/code> - Base image, required&lt;/li>
&lt;li>&lt;code>WORKDIR&lt;/code> - change working directory in container (creates non-existing directories)&lt;/li>
&lt;li>&lt;code>COPY&lt;/code> - from host to container&lt;/li>
&lt;li>&lt;code>RUN&lt;/code> - execute command in a new container layer and commit results&lt;/li>
&lt;li>&lt;code>ENTRYPOINT&lt;/code> - command to execute when running&lt;/li>
&lt;li>&lt;code>CMD&lt;/code> - default arguments to entrypoint&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://docs.docker.com/engine/reference/builder/">Dockerfile reference&lt;/a>&lt;/p>
&lt;h2 id="volumes--mounts">Volumes &amp;amp; Mounts&lt;/h2>
&lt;h3 id="named-volume">Named volume&lt;/h3>
&lt;p>Volume is a special file on the host that is mounted in containers.&lt;/p>
&lt;pre tabindex="0">&lt;code># Create
docker volume create &amp;lt;volume_name&amp;gt;
# Start with mount
docker run -v &amp;lt;volume_name&amp;gt;:&amp;lt;mount_point&amp;gt; &amp;lt;image&amp;gt;
# Show details
docker volume inspect &amp;lt;volume_name&amp;gt;
&lt;/code>&lt;/pre>&lt;h3 id="bind-mount">Bind Mount&lt;/h3>
&lt;p>Mount a host directory inside the container.&lt;/p>
&lt;pre tabindex="0">&lt;code>docker run -v &amp;lt;host_dir&amp;gt;:&amp;lt;mount_point&amp;gt; &amp;lt;image&amp;gt;
&lt;/code>&lt;/pre>&lt;p>Volume commands:&lt;/p>
&lt;pre tabindex="0">&lt;code>create Create a volume
inspect Display detailed information on one or more volumes
ls List volumes
prune Remove all unused local volumes
rm Remove one or more volumes
&lt;/code>&lt;/pre>&lt;h2 id="network">Network&lt;/h2>
&lt;p>Put containers on the same network to let them talk to each-other.&lt;/p>
&lt;pre tabindex="0">&lt;code>
# Create network
docker network create &amp;lt;network_name&amp;gt;
# Start with network and network hostname
docker run --network &amp;lt;network_name&amp;gt; --network-alias &amp;lt;container_hostname&amp;gt; &amp;lt;image&amp;gt;
&lt;/code>&lt;/pre>&lt;p>Example:&lt;/p>
&lt;pre tabindex="0">&lt;code># Listen on host1
docker run --network testnet --network-alias host1 &amp;lt;image&amp;gt;
docker exec -it &amp;lt;host1 container name&amp;gt; nc -v -l -p 3000
# Connect from host2
docker run --network testnet --network-alias host2 &amp;lt;image&amp;gt;
docker exec -it &amp;lt;host2 container name&amp;gt; nc host1.testnet 3000
&lt;/code>&lt;/pre>&lt;h3 id="network--commands">Network Commands&lt;/h3>
&lt;pre tabindex="0">&lt;code>connect Connect a container to a network
create Create a network
disconnect Disconnect a container from a network
inspect Display detailed information on one or more networks
ls List networks
prune Remove all unused networks
rm Remove one or more networks
&lt;/code>&lt;/pre>&lt;h2 id="docker-compose">Docker compose&lt;/h2>
&lt;p>Compose containers via &lt;code>docker-compose.yml&lt;/code> specification.&lt;/p>
&lt;p>Network is automatically created.&lt;/p>
&lt;pre tabindex="0">&lt;code>version: &amp;quot;3.7&amp;quot;
services:
listener:
image: alpine:latest
command: nc -v -l -p 3000
ping:
image: alpine:latest
command: echo hello | nc listener 3000
&lt;/code>&lt;/pre>&lt;p>Commands&lt;/p>
&lt;pre tabindex="0">&lt;code>down Stop and remove containers, networks, images, and volumes
up Create and start containers
config Validate and view the Compose file
create Create services
build Build or rebuild services
events Receive real time events from containers
logs View output from containers
exec Execute a command in a running container
kill Kill containers
rm Remove stopped containers
images List images
pull Pull service images
push Push service images
ps List containers
port Print the public port for a port binding
top Display the running processes
run Run a one-off command
scale Set number of containers for a service
start Start services
stop Stop services
restart Restart services
unpause Unpause services
pause Pause services
&lt;/code>&lt;/pre>&lt;p>&lt;a href="https://docs.docker.com/compose/compose-file/">Compose file reference&lt;/a>&lt;/p>
&lt;h2 id="debug">Debug&lt;/h2>
&lt;h3 id="image-history">Image history&lt;/h3>
&lt;p>Trace the steps that built the image&lt;/p>
&lt;pre tabindex="0">&lt;code>docker image history &amp;lt;image&amp;gt;
&lt;/code>&lt;/pre></description></item><item><title>macOS startup service and daemons</title><link>https://notes.mpri.me/everything-else/macos-startup/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://notes.mpri.me/everything-else/macos-startup/</guid><description>&lt;p>Reference to find and stop annoying applications and services that auto-start on login or auto-restart when killed.&lt;/p>
&lt;h2 id="launchd">&lt;code>launchd&lt;/code>&lt;/h2>
&lt;ul>
&lt;li>&lt;code>LaunchDaemon&lt;/code> items run with system privileges&lt;/li>
&lt;li>&lt;code>LaunchAgent&lt;/code> items run in user context after login&lt;/li>
&lt;/ul>
&lt;p>&lt;code>launchd&lt;/code> auto-loads from the following locations:&lt;/p>
&lt;ul>
&lt;li>&lt;code>~/Library/LaunchAgent&lt;/code>&lt;/li>
&lt;li>&lt;code>/Library/LaunchAgents&lt;/code>&lt;/li>
&lt;li>&lt;code>/Library/LaunchDaemons&lt;/code>&lt;/li>
&lt;li>&lt;code>/System/Library/LaunchAgents&lt;/code>&lt;/li>
&lt;li>&lt;code>/System/Library/LaunchDaemons&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Notice that &lt;code>/System/&lt;/code> is protected by system integrity checks, so it&amp;rsquo;s unlikely that&amp;rsquo;s where apps registers.&lt;/p>
&lt;p>List services: &lt;code>launchctl list&lt;/code>&lt;/p>
&lt;p>Dump &lt;code>launchd state&lt;/code>: &lt;code>launchctl dumpstate&lt;/code>&lt;/p>
&lt;h2 id="cron">&lt;code>cron&lt;/code>&lt;/h2>
&lt;p>List cron jobs for user: &lt;code>crontab -l&lt;/code>&lt;/p>
&lt;h2 id="helper-applications">Helper applications&lt;/h2>
&lt;p>Some applications bundle a helper application that manages to start despite not having a &lt;code>launchd&lt;/code> plist in the locations above.&lt;/p>
&lt;p>Try: &lt;code>find /Applications/ -name 'LoginItems'&lt;/code>&lt;/p></description></item><item><title>Personal document management with git</title><link>https://notes.mpri.me/everything-else/git-basics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://notes.mpri.me/everything-else/git-basics/</guid><description>&lt;p>This tutorial is for my dear friend M.
Like any person working on computers, M. struggles with keeping track of changes to files.&lt;/p>
&lt;p>This is the simplest possible tutorial that explains how to leverage &lt;code>git&lt;/code> for very simple personal projects.&lt;/p>
&lt;p>This tutorial covers:&lt;/p>
&lt;ul>
&lt;li>Versioning of a small set of files for a single person. i.e. personal notes/essay/homeworks/article, &amp;hellip;&lt;/li>
&lt;li>Inspecting and restoring of old versions&lt;/li>
&lt;li>Backups and sharing with others via cloud&lt;/li>
&lt;/ul>
&lt;p>This tutorial does NOT cover branching, stashes, resolving conflicts, merge strategies, rewriting history, pulling from remote, fixups, aliases, configuration, etc. There are millions of tutorials out there that can teach you these advanced topics.&lt;/p>
&lt;h2 id="-old-school-versioning">📜 Old school versioning&lt;/h2>
&lt;p>We&amp;rsquo;ve all done this at some point, it looks something like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>letter.txt
letter-2.txt
letter-3.txt
letter-v4.txt
letter-v4-with-edits.txt
letter-v4-final.txt
letter-v4-final-with-images.txt
...
&lt;/code>&lt;/pre>&lt;blockquote>
&lt;p>Quiz: In this example, which file is the latest and greatest version? I don&amp;rsquo;t know, and neither do you! If you&amp;rsquo;re using old school versioning, make damn sure you give a &lt;em>unique&lt;/em> version number every time you create a new version!&lt;/p>
&lt;/blockquote>
&lt;p>This versioning strategy works ok with single-file projects.
It creates some little clutter, wastes space on disk and &lt;a href="https://physics.stackexchange.com/questions/31326/is-a-hard-drive-heavier-when-it-is-full">makes your laptop heavier to carry&lt;/a>). But that seems acceptable.&lt;/p>
&lt;p>This approach breaks down as soon as your project consists of multiple files.
One could apply the same &amp;ldquo;versioning&amp;rdquo; strategy to the entire folder.&lt;/p>
&lt;h2 id="-the-right-tool-for-the-job">🪛 The right tool for the job&lt;/h2>
&lt;p>To me, using file copies to version files is using a hammer to drive a screw.
If you need to drive a screw, use a screwdriver.
If you need to version files, use &lt;code>git&lt;/code>.&lt;/p>
&lt;h2 id="git-vs-github">&lt;code>git&lt;/code> vs. GitHub&lt;/h2>
&lt;p>&lt;code>git&lt;/code> is a tool installed on your computer. You may use it in a terminal or with a GUI.
&lt;code>git&lt;/code> transforms a folder into a little database and then uses that database to store and manage your versions.&lt;/p>
&lt;p>You can definitely use &lt;code>git&lt;/code> without GitHub.
You should probably learn to use &lt;code>git&lt;/code> before you even look at GitHub.&lt;/p>
&lt;p>GitHub is a service from Microsoft. GitLab, BitBucket, and many others offer similar services.&lt;/p>
&lt;p>What you get with GitHub:&lt;/p>
&lt;ul>
&lt;li>Backups in the cloud &amp;ndash; if you regularly synchronize your &lt;code>git&lt;/code> projects with GH, then they are safely backed up if your computer is stolen or catches on fire&lt;/li>
&lt;li>Web &amp;ndash; GH creates a website around your repository, so you can easily share a link with a friend, e.g.: &lt;a href="https://github.com/mprimi/notes/blob/main/README.md">https://github.com/mprimi/notes/blob/main/README.md&lt;/a>, rather than having to send the file via email.&lt;/li>
&lt;li>Collaboration &amp;ndash; i can clone your repository, or send you patches for bugs I spot in your code, etc. collaboration is the main reason for hosting a project on a platform like GitHub, but it&amp;rsquo;s beyond the scope of this document&lt;/li>
&lt;/ul>
&lt;h1 id="3-2-1-lets-git">3, 2, 1, let&amp;rsquo;s &lt;code>git&lt;/code>!&lt;/h1>
&lt;p>Without further ado, let&amp;rsquo;s cover the very basics of &lt;code>git&lt;/code>.&lt;/p>
&lt;h2 id="-my-recipesgit">🍳 &lt;code>my-recipes.git&lt;/code>&lt;/h2>
&lt;p>Let&amp;rsquo;s say you have a bunch of cooking recipes you&amp;rsquo;ve collected over the years. They are stored in a Word document on your laptop.&lt;/p>
&lt;pre tabindex="0">&lt;code>recipes.adoc
&lt;/code>&lt;/pre>&lt;h3 id="a-note-on-convention">A note on convention&lt;/h3>
&lt;p>If there is a &lt;code>$&lt;/code> character at the beginning of a line, it&amp;rsquo;s a prompt.
It means i issued a command. If there is no &lt;code>$&lt;/code>, then it&amp;rsquo;s the command output.
Lines begining with &lt;code>#&lt;/code> are comments
Example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#75715e"># This is a comment&lt;/span>
$ echo foo &amp;lt;&lt;span style="color:#f92672">=&lt;/span> This is me issuing the command
foo &amp;lt;&lt;span style="color:#f92672">=&lt;/span> This is the output of the command
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s see how to transfer and manage this knowledge-base with &lt;code>git&lt;/code>.&lt;/p>
&lt;h2 id="1-create-a-repository">1. Create a repository&lt;/h2>
&lt;p>A repository is a special folder that acts as a database.&lt;/p>
&lt;p>I like to name my repository folder &lt;code>project-name.git&lt;/code> to easily tell distinguish a regular folder from a repository folder. But this is just personal preference, you can name your repository however you want.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#75715e"># Create the new empty folder&lt;/span>
$ mkdir my-recipes.git
&lt;span style="color:#75715e"># Enter the directory (the rest of commands are issued from within)&lt;/span>
&lt;span style="color:#75715e"># Turn the current folder (.) into a git repository&lt;/span>
$ git init .
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Congratulations, you just created your first repository.
This still just looks like an empty folder, but it&amp;rsquo;s not: &lt;code>git&lt;/code> initialized an database inside a hidden folder (&lt;code>my-recipes.git/.git/&lt;/code>).&lt;/p>
&lt;p>You don&amp;rsquo;t need to know what is inside this hidden folder.
You never interact with it directly.
But it&amp;rsquo;s useful to know this is where &lt;code>git&lt;/code> does its magic (stores all your versions and other metadata).&lt;/p>
&lt;h2 id="2-add-your-existing-document">2. Add your existing document&lt;/h2>
&lt;p>One way to look think of &lt;code>git&lt;/code> is:
&lt;em>&lt;strong>If you would like to go back to something at some point in the future, then commit it!&lt;/strong>&lt;/em>&lt;/p>
&lt;p>You may at some point in the future want to retrieve your original Word document, so let&amp;rsquo;s commit it!&lt;/p>
&lt;pre tabindex="0">&lt;code># Copy the original recipes into the repository folder.
$ cp ~/Documents/recipes.adoc .
&lt;/code>&lt;/pre>&lt;p>Rather than moving the original file (&lt;code>~/Documents/recipes.adoc&lt;/code>) in the repo, I made a copy. Just in case. You really don&amp;rsquo;t want to lose it while you mess up with &lt;code>git&lt;/code> for the first time. We can always delete it later.&lt;/p>
&lt;p>Let&amp;rsquo;s look at the status of your repository folder:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status
On branch master
No commits yet
Untracked files:
(use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)
recipes.adoc
nothing added to commit but untracked files present (use &amp;quot;git add&amp;quot; to track)
&lt;/code>&lt;/pre>&lt;p>Let&amp;rsquo;s explain line by line:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status
&lt;/code>&lt;/pre>&lt;p>I&amp;rsquo;m invoking the &lt;code>status&lt;/code> command of &lt;code>git&lt;/code>. Which prints an overview of the status of the local repository folder (there are many more commands, ignore them for now, but if you are curious, try &lt;code>git help&lt;/code> which lists them).&lt;/p>
&lt;pre tabindex="0">&lt;code>On branch master
&lt;/code>&lt;/pre>&lt;p>Branches are an advanced topic, you don&amp;rsquo;t need to care about them for now.
However, notice your screen may actually say &lt;code>main&lt;/code> rather than &lt;code>master&lt;/code>. This is a recent change of convention, but for our purposes it&amp;rsquo;s just a name.&lt;/p>
&lt;pre tabindex="0">&lt;code>No commits yet
&lt;/code>&lt;/pre>&lt;p>You just created this repo fresh a second ago, so there&amp;rsquo;s no history at all.
If history existed, it would give you a recap of the most recent commit.&lt;/p>
&lt;pre tabindex="0">&lt;code>Untracked files:
(use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)
recipes.adoc
&lt;/code>&lt;/pre>&lt;p>Git is saying: &amp;ldquo;there is a file I haven&amp;rsquo;t seen before in this folder: &lt;code>recipes.adoc&lt;/code>&amp;rdquo;.
It also suggests &amp;ldquo;if you want to start versioning this file, use &lt;code>git add&lt;/code>.&lt;/p>
&lt;pre tabindex="0">&lt;code>nothing added to commit but untracked files present (use &amp;quot;git add&amp;quot; to track)
&lt;/code>&lt;/pre>&lt;p>This is telling you that you have not staged any files or changes for commit.
More on this later.&lt;/p>
&lt;p>This &lt;code>status&lt;/code> is very verbose, and contains help messages.
For the rest of this document, I&amp;rsquo;ll use the &amp;ldquo;succint&amp;rdquo; version, which gives you the same information but more compact:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status --short
?? recipes.adoc
&lt;/code>&lt;/pre>&lt;p>This says the same as before: there is a file, &lt;code>recipes.adoc&lt;/code> and I&amp;rsquo;ve never seen it before ('&lt;code>??&lt;/code>' means &amp;lsquo;untracked&amp;rsquo;).&lt;/p>
&lt;h3 id="21-first-stage-and-commit">2.1. First stage and commit&lt;/h3>
&lt;p>Creating a new version for your repository is done in 2 steps:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Stage&lt;/strong>: select the files you want to include in the next version.&lt;/li>
&lt;li>&lt;strong>Commit&lt;/strong>: create the next version of the repository, which consists of the changes/files you staged.&lt;/li>
&lt;/ol>
&lt;p>We want &lt;code>git&lt;/code> to start managing/versioning/tracking your recipes file.&lt;/p>
&lt;p>So first let&amp;rsquo;s stage the file:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git add recipes.adoc
&lt;/code>&lt;/pre>&lt;p>This stages the document. Notice it does not make any change whatsoever to the file. This is true for pretty much all the comments in this document: &lt;code>git&lt;/code> does NOT modify your files. It just tracks them and makes copies in the &amp;ldquo;magic&amp;rdquo; folder.&lt;/p>
&lt;p>After adding the file to the index (another way to say staged the file, or added the file), take a look at the status:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git st --short
A recipes.adoc
&lt;/code>&lt;/pre>&lt;p>It is saying: &amp;ldquo;a file i&amp;rsquo;ve never seen before is staged&amp;rdquo; A stands for &amp;ldquo;added&amp;rdquo;.
If you ask for status in the &amp;ldquo;verbose&amp;rdquo; mode, it probably says the same with more words:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status
Changes to be committed:
(use &amp;quot;git rm --cached &amp;lt;file&amp;gt;...&amp;quot; to unstage)
new file: recipes.adoc
&lt;/code>&lt;/pre>&lt;p>This is also telling you how to &amp;ldquo;unstage&amp;rdquo;.
Removing from the staging also does not delete or modify the file, it just means the file goes back to &amp;lsquo;untracked&amp;rsquo; status.&lt;/p>
&lt;p>Our objective for the first version is to put your file under version control.
The file is now staged, so let&amp;rsquo;s go ahead and commit:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git commit -m &amp;quot;Adding the original recipes word document&amp;quot;
[master (root-commit) cdab0fc] Adding the original recipes word document
1 file changed, 0 insertions(+), 0 deletions(-)
create mode 100644 recipes.adoc
&lt;/code>&lt;/pre>&lt;p>Commit means &amp;ldquo;create a new version of the repository with all the changes currently staged&amp;rdquo;.&lt;/p>
&lt;p>A commit requires a message: a short description of what changed in this commit.
The message itself doesn&amp;rsquo;t really matter to &lt;code>git&lt;/code>. You could say &lt;code>-m &amp;quot;cacca&amp;quot;&lt;/code> and it would be perfectly happy with it.&lt;/p>
&lt;p>Commit messages are for &lt;strong>you&lt;/strong>.
Your repository is going to quickly grow to hundreds of versions, and it&amp;rsquo;s going to be nice to scroll them and know what each commit does just by looking at the message.&lt;/p>
&lt;p>Congratulation, you just created the first version of your repository!&lt;/p>
&lt;p>Let&amp;rsquo;s look at a &lt;code>status&lt;/code> because here is when people can panic.&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status
On branch master
nothing to commit, working tree clean
&lt;/code>&lt;/pre>&lt;p>I can hear you screaming: &amp;ldquo;WTF? Where did my file go???&amp;rdquo;&lt;/p>
&lt;p>As I said before staging and committing &lt;strong>do not touch the files&lt;/strong> they just create metadata.
Your file is still there. Go ahead and check.&lt;/p>
&lt;p>It is not showing up in &lt;code>status&lt;/code> because the file has no changes. The file you have is identical to the file &lt;code>git&lt;/code> knows to be the latest committed version.
So &lt;code>git&lt;/code> doesn&amp;rsquo;t even bother showing it to you, &lt;code>git&lt;/code> cares more about &lt;em>changes&lt;/em> to your directory!&lt;/p>
&lt;h2 id="3-multiple-files">3. Multiple files&lt;/h2>
&lt;p>At this point, you could be happy with what you have: a repository consisting of a single file.
Every time you modify the file, you could stage and commit, and over time you would have a versioned file, allowing you to go back to revisit previous versions if you made a mistake.&lt;/p>
&lt;p>This is good, but let&amp;rsquo;s make it better: split recipes into individual files.&lt;/p>
&lt;pre tabindex="0">&lt;code>$ touch tiramisu.txt cappone.txt carbonara.txt
&lt;/code>&lt;/pre>&lt;p>This just creates 3 empty files.&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git st --short
?? cappone.txt
?? carbonara.txt
&lt;/code>&lt;/pre>&lt;p>As expected, &lt;code>git&lt;/code> is saying: there are 3 files I&amp;rsquo;ve never seen before.&lt;/p>
&lt;p>Let&amp;rsquo;s add a first version of the recipe. For the sake of this example, I&amp;rsquo;m starting with a very shitty version of the recipes.&lt;/p>
&lt;p>Edit the files to add this content:&lt;/p>
&lt;pre tabindex="0">&lt;code>Pasta alla Carbonara
1. Cuoci la pasta
2. Aggiungi il sugo
&lt;/code>&lt;/pre>&lt;pre tabindex="0">&lt;code>Cappone della Nonna
1. Spenna il cappone
2. Cuocilo in forno
&lt;/code>&lt;/pre>&lt;p>Let&amp;rsquo;s check status after adding the recipes:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git st --short
?? cappone.txt
?? carbonara.txt
&lt;/code>&lt;/pre>&lt;p>Same as before: 2 files never seen before.&lt;/p>
&lt;p>Let&amp;rsquo;s create a new version of the repository by adding these new files (with the current content) and creating a new commit.&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git add cappone.txt carbonara.txt
$ git commit -m &amp;quot;Importing carbonara and cappone recipes&amp;quot;
&lt;/code>&lt;/pre>&lt;p>So far so good. Now that you have some history (2 commits) we can look back at it.&lt;/p>
&lt;p>The &lt;code>log&lt;/code> command is the goto for looking at repository history (altough GUIs are usually even easier).
The &lt;code>log&lt;/code> command has a thousand options, let&amp;rsquo;s stick to the simplest:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git log --oneline
41330d2 (HEAD -&amp;gt; master) Importing carbonara and cappone recipes
cdab0fc Adding the original recipes word document
&lt;/code>&lt;/pre>&lt;p>This list the full history of your repository, most recent on top.&lt;/p>
&lt;p>The first code (e.g, &lt;code>41330d2&lt;/code>) it&amp;rsquo;s just a unique identifier for each commit. Yours will be different than mine even if the files are identical, because the commit author and date will be different for your commits.&lt;/p>
&lt;p>Try this alternative view of history, which includes the files changed summary:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git log --stat
&lt;/code>&lt;/pre>&lt;p>And feel free to explore more &lt;code>log&lt;/code> options described in the manual (hit &lt;code>q&lt;/code> to exit):&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git help log
&lt;/code>&lt;/pre>&lt;h2 id="4-make-history">4. Make history&lt;/h2>
&lt;p>A &lt;code>git&lt;/code> repository records a set of mutation in a specific order.&lt;/p>
&lt;p>Let&amp;rsquo;s make history by changing a file.&lt;/p>
&lt;p>Add a step number 3 to the &lt;code>cappone.txt&lt;/code> recipe. Edit the file and save.&lt;/p>
&lt;p>Status should tell you that the file is different than the last version &lt;code>git&lt;/code> is aware of:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git status --short
M cappone.txt
&lt;/code>&lt;/pre>&lt;p>And the &lt;code>diff&lt;/code> command can tell you exactly what changed:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git diff
diff --git a/cappone.txt b/cappone.txt
index 825997d..660f0eb 100644
--- a/cappone.txt
+++ b/cappone.txt
@@ -2,3 +2,4 @@ Cappone della Nonna
1. Spenna il cappone
2. Cuocilo in forno
+3. Riposa 10 minuti
&lt;/code>&lt;/pre>&lt;p>Notice the &lt;code>+&lt;/code> in front of the last line. It&amp;rsquo;s telling you that you added this line, while the rest of the file is unchanged.&lt;/p>
&lt;p>This new version is good, so let&amp;rsquo;s commit it!&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git add cappone.txt
$ git commit -m &amp;quot;Improved cappone recipe&amp;quot;
&lt;/code>&lt;/pre>&lt;p>Let&amp;rsquo;s do a different change now, one that touches multiple lines.
Add a new step 1 to the carbonara recipe.&lt;/p>
&lt;p>After editing, it should look like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git diff
diff --git a/carbonara.txt b/carbonara.txt
index 78852c9..700ee0a 100644
--- a/carbonara.txt
+++ b/carbonara.txt
@@ -1,4 +1,5 @@
Pasta alla Carbonara
-1. Cuoci la pasta
-2. Aggiungi il sugo
+1. Bolli l'aqua
+2. Cuoci la pasta
+3. Aggiungi il sugo
&lt;/code>&lt;/pre>&lt;p>Notice how &lt;code>git&lt;/code> is not showing this as simply adding a line at the top.
It&amp;rsquo;s telling you the two original lines are gone, and 3 new lines were added.&lt;/p>
&lt;p>This time, try to stage your changes using &amp;ldquo;interactive&amp;rdquo; add:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ git add -p
diff --git a/carbonara.txt b/carbonara.txt
index 78852c9..700ee0a 100644
--- a/carbonara.txt
+++ b/carbonara.txt
@@ -1,4 +1,5 @@
Pasta alla Carbonara
-1. Cuoci la pasta
-2. Aggiungi il sugo
+1. Bolli l'aqua
+2. Cuoci la pasta
+3. Aggiungi il sugo
(1/1) Stage this hunk [y,n,q,a,d,e,?]? y
$ git commit -m &amp;quot;Improved carbonara recipe&amp;quot;
&lt;/code>&lt;/pre>&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted --></description></item></channel></rss>